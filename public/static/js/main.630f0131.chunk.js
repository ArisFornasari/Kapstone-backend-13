(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{26:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(21),r=n.n(s),i=(n(48),n(2)),o=n(5),l=(n(26),n(49),n(0));function u(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1];return setTimeout((function(){a(!1)}),8e3),Object(l.jsx)(l.Fragment,{children:n&&Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("input",{class:"retrigger",type:"radio",name:"rerun",id:"retrigger--1"}),Object(l.jsx)("input",{class:"retrigger",type:"radio",name:"rerun",id:"retrigger--2",checked:"checked"}),Object(l.jsx)("div",{class:"bg"}),Object(l.jsxs)("div",{class:"buttons",children:[Object(l.jsx)("label",{class:"button button--1",for:"retrigger--1",children:"PLAY AGAIN"}),Object(l.jsx)("label",{class:"button button--2",for:"retrigger--2",children:"PLAY AGAIN"})]}),Object(l.jsx)("div",{class:"pane",children:Object(l.jsxs)("div",{class:"rotate",children:[Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"}),Object(l.jsx)("div",{class:"logo",children:"KENZIE"})]})})]})})}var j=n(15),d=n.n(j),b=n(6),p=(n(69),n(70),["btn--primary","btn--outline"]),h=["btn--medium","btn--large"],O=function(e){var t=e.children,n=e.type,c=e.onClick,a=e.buttonStyle,s=e.buttonSize,r=p.includes(a)?a:p[0],i=h.includes(s)?s:h[0];return Object(l.jsx)(b.b,{to:"/signup",className:"btn-mobile",children:Object(l.jsx)("button",{className:"btn ".concat(r," ").concat(i),onClick:c,type:n,children:t})})},m=n(13),f=n(10),x=n.n(f),v=n(17),g="SET_ALERT",N="REMOVE_ALERT",y="REGISTER_SUCCESS",E="REGISTER_FAIL",S="USER_LOADED",w="AUTH_ERROR",k="LOGIN_SUCCESS",I="LOGIN_FAIL",A="LOGOUT",C=n(83),P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(c){var a=Object(C.a)();c({type:g,payload:{msg:e,alertType:t,id:a}}),setTimeout((function(){return c({type:N,payload:a})}),n)}},K=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},T=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&K(localStorage.token),e.prev=1,e.next=4,d.a.get("/api/auth");case 4:n=e.sent,t({type:S,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:w});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Z=function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(c){var a,s,r,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,d.a.post("/api/auth",s,a);case 5:r=n.sent,c({type:k,payload:r.data}),c(T()),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(2),(i=n.t0.response.data.errors)&&i.forEach((function(e){return c(P(e.msg,"danger"))})),c({type:I});case 15:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()},L=Object(m.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:A})}}})((function(e){var t=e.auth,n=(t.isAuthenticated,t.loading,e.logout),a=Object(c.useState)(!1),s=Object(o.a)(a,2),r=s[0],i=s[1],u=Object(c.useState)(!0),j=Object(o.a)(u,2),d=j[0],p=j[1],h=function(){return i(!1)},m=function(){window.innerWidth<=960?p(!1):p(!0)};return Object(c.useEffect)((function(){m()}),[]),window.addEventListener("resize",m),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("nav",{className:"navbar",children:Object(l.jsxs)("div",{className:"navbar-container",children:[Object(l.jsxs)(b.c,{to:"/",className:"navbar-logo",onClick:h,children:[Object(l.jsx)("img",{src:"https://fontmeme.com/permalink/210423/15f191de4ea6a30dd7d5b26cb9880614.png",alt:"navbar"})," ",Object(l.jsx)("i",{className:"fab fa-typo3"})]}),Object(l.jsx)("div",{className:"menu-icon",onClick:function(){return i(!r)},children:Object(l.jsx)("i",{className:r?"fas fa-times":"fas fa-bars"})}),Object(l.jsxs)("ul",{className:r?"nav-menu active":"nav-menu",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.c,{to:"/movies",activeStyle:{color:"yellow"},className:"nav-links",onClick:h,children:"Movies"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.c,{to:"/my-watchlist",activeStyle:{color:"yellow"},className:"nav-links",onClick:h,children:"My Watchlist"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.c,{to:"/logout",activeStyle:{color:"yellow"},className:"nav-links",onClick:n,href:"#!",children:"Logout"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.c,{to:"/signup",activeStyle:{color:"yellow"},className:"nav-links-mobile",onClick:h,children:"Sign up"})})]}),Object(l.jsx)(b.c,{to:"/signup",children:d&&Object(l.jsx)(O,{buttonStyle:"btn--outline",children:"Sign Up"})})]})})})})),R=n(4);var F=function(e){var t=e.selected,n=e.closePopup;return Object(l.jsx)("section",{className:"popup",children:Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)("h2",{children:[t.Title,Object(l.jsxs)("span",{children:["(",t.Year,")"]})]}),Object(l.jsxs)("p",{className:"rating",children:["Rating: ",t.imdbRating]}),Object(l.jsxs)("div",{className:"plot",children:[Object(l.jsx)("img",{src:t.Poster,alt:"Movie Poster"}),Object(l.jsx)("p",{children:t.Plot})]}),Object(l.jsx)("button",{className:"close",onClick:n,children:"Close"})]})})},D=n(18),M=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:P,register:function(e){var t=e.name,n=e.email,c=e.password;return function(){var e=Object(v.a)(x.a.mark((function e(a){var s,r,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},r=JSON.stringify({name:t,email:n,password:c}),e.prev=2,e.next=5,d.a.post("/api/users",r,s);case 5:i=e.sent,a({type:y,payload:i.data}),a(T()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(o=e.t0.response.data.errors)&&o.forEach((function(e){return a(P(e.msg,"danger"))})),a({type:E});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,n=e.register,a=e.isAuthenticated,s=Object(c.useState)({name:"",email:"",password:"",password2:""}),r=Object(o.a)(s,2),u=r[0],j=r[1],d=u.name,p=u.email,h=u.password,O=u.password2,m=function(e){return j(Object(i.a)(Object(i.a)({},u),{},Object(D.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(v.a)(x.a.mark((function e(c){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),h!==O?t("Passwords do not match","danger"):n({name:d,email:p,password:h});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?Object(l.jsx)(R.a,{to:"/movies"}):Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("h1",{className:"large text-primary",children:"Sign Up"}),Object(l.jsxs)("p",{className:"lead",children:[Object(l.jsx)("i",{className:"fas fa-user"})," Create Your Account"]}),Object(l.jsxs)("form",{className:"form",onSubmit:function(e){return f(e)},children:[Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"text",placeholder:"Name",name:"name",value:d,onChange:function(e){return m(e)},required:!0})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",value:p,onChange:function(e){return m(e)},required:!0})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:h,onChange:function(e){return m(e)},minLength:"6"})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"password2",value:O,onChange:function(e){return m(e)},minLength:"6"})}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Register"})]}),Object(l.jsxs)("p",{className:"sign-in",children:["Already have an account? ",Object(l.jsx)(b.b,{to:"/Signin",children:"Sign In"})]})]})})),U=n(14),_=n.n(U);Z.PropTypes={login:_.a.func.isRequired,isAuthenticated:_.a.bool};var G=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:Z})((function(e){var t=e.login,n=e.isAuthenticated,a=Object(c.useState)({email:"",password:""}),s=Object(o.a)(a,2),r=s[0],u=s[1],j=r.email,d=r.password,p=function(e){return u(Object(i.a)(Object(i.a)({},r),{},Object(D.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(v.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(j,d);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(l.jsx)(R.a,{to:"/movies"}):Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("h1",{className:"large text-primary",children:"Sign In"}),Object(l.jsxs)("p",{className:"lead",children:[Object(l.jsx)("i",{className:"fas fa-user"})," Sign Into Your Account"]}),Object(l.jsxs)("form",{className:"form",onSubmit:function(e){return h(e)},children:[Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",value:j,onChange:function(e){return p(e)},required:!0})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:d,onChange:function(e){return p(e)},minLength:"6"})}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Sign In "})]}),Object(l.jsxs)("p",{className:"sign-in",children:["Don't have an account? ",Object(l.jsx)(b.b,{to:"/signup",children:"Sign Up"})]})]})})),Y=Object(m.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return Object(l.jsx)("div",{children:e.msg},e.id)}))}));var q=function(e){var t=e.handleInput,n=e.search;return Object(l.jsx)("section",{className:"searchbox-wrap",children:Object(l.jsx)("input",{type:"text",placeholder:"Search our database...",className:"searchbox",onChange:t,onKeyPress:n})})},J=n(23),z=n(43),W=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),r=Object(o.a)(s,2),i=r[0],u=r[1];return Object(l.jsx)("div",{children:Object(J.a)(Array(5)).map((function(e,t){var c=t+1;return Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"radio",name:"rating",value:c,onClick:function(){return a(c)}}),Object(l.jsx)(z.a,{className:"star",color:c<(i||n)?"#ffc107":"#e4e5e9",size:50,onMouseEnter:function(){return u(c+1)}})]})}))})};var B=function(e){var t=e.result,n=e.openPopup;return Object(l.jsxs)("div",{className:"result",onClick:function(){return n(t.imdbID)},children:[Object(l.jsx)("img",{src:t.Poster,alt:"Movie Poster"}),Object(l.jsx)("h3",{children:t.Title}),Object(l.jsx)(W,{})]})};var H=function(e){var t=e.results,n=e.openPopup;return Object(l.jsx)("section",{className:"results",children:t&&t.map((function(e){return Object(l.jsx)(B,{result:e,openPopup:n},e.imdbID)}))})};function V(){var e=Object(c.useState)({s:"",results:[],selected:{}}),t=Object(o.a)(e,2),n=t[0],a=t[1],s="http://www.omdbapi.com/?apikey=4ab61677";return Object(l.jsxs)("div",{children:[Object(l.jsx)("header",{children:Object(l.jsxs)("h1",{children:[" ",Object(l.jsx)("img",{src:"https://fontmeme.com/permalink/210423/54ae7669563b07c8272f0d1579872696.png"})]})}),Object(l.jsx)(q,{handleInput:function(e){var t=e.target.value;a((function(e){return Object(i.a)(Object(i.a)({},e),{},{s:t})}))},search:function(e){"Enter"===e.key&&fetch(s+"&s="+n.s).then((function(e){return e.json()})).then((function(e){a((function(t){return Object(i.a)(Object(i.a)({},t),{},{results:e.Search})}))}))}}),Object(l.jsx)(H,{results:n.results,openPopup:function(e){fetch(s+"&i="+e).then((function(e){return e.json()})).then((function(e){a((function(t){return Object(i.a)(Object(i.a)({},t),{},{results:e.Search})}));var t=e;console.log(t),a((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:t})}))}))}}),"undefined"!=typeof n.selected.Title&&Object(l.jsx)(F,{selected:n.selected,closePopup:function(){a((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:{}})}))}})]})}var Q=n(16),X=n(41),$=n(42),ee=[];var te={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null};var ne=Object(Q.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case g:return[].concat(Object(J.a)(e),[c]);case N:return e.filter((function(e){return e.id!==c}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case S:return Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:!0,loading:!1,user:c});case y:case k:return localStorage.setItem("token",c.token),Object(i.a)(Object(i.a)(Object(i.a)({},e),c),{},{isAuthenticated:!0,loading:!1});case E:case w:case I:case A:return localStorage.removeItem("token"),Object(i.a)(Object(i.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}}}),ce=[$.a],ae=Object(Q.createStore)(ne,{},Object(X.composeWithDevTools)(Q.applyMiddleware.apply(void 0,ce)));localStorage.token&&K(localStorage.token);var se=function(){var e=Object(c.useState)({s:"",results:[],selected:{}}),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){ae.dispatch(T())}),[]),Object(l.jsx)(m.a,{store:ae,children:Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("main",{children:[Object(l.jsxs)(b.a,{children:[Object(l.jsx)(L,{}),Object(l.jsx)(Y,{}),Object(l.jsxs)(R.d,{children:[Object(l.jsx)(R.b,{path:"/",exact:!0,component:u}),Object(l.jsx)(R.b,{path:"/signup",exact:!0,component:M}),Object(l.jsx)(R.b,{path:"/signin",exact:!0,component:G}),Object(l.jsx)(R.b,{path:"/movies",exact:!0,component:V})]})]}),"undefined"!=typeof n.selected.Title&&Object(l.jsx)(F,{selected:n.selected,closePopup:function(){a((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:{}})}))}})]})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(se,{})}),document.getElementById("root")),re()}},[[81,1,2]]]);
//# sourceMappingURL=main.630f0131.chunk.js.map